<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
<script type="text/javascript">
/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */
/**
 * @param {ListNode} head
 * @return {boolean}
 */
var isPalindrome = function(head) {
     if(head == null || head.next == null) {
            return true;
        }
        var slow = head;
        var fast = head;
        var middle = slow.next;
        var pre = slow;
        //find mid pointer, and reverse head half part
        while(fast.next != null && fast.next.next != null) {
            fast = fast.next.next;
            pre = slow;
            slow = middle;
            middle = middle.next;
            slow.next = pre;
        }

        //odd number of elements, need left move slow back one step
        if(fast.next == null) {
            slow = slow.next;
        }
        else {   //even number of elements, do nothing
            
        }
        //compare from mid to head/tail
        while(middle != null) {
            if(slow.val != middle.val) {
                return false;
            }
            slow = slow.next;
            middle = middle.next;
        }
        return true;
};
</script>
</body>
</html>